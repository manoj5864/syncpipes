<div ng-controller="jiraToMysqlCtrl as ctrl" ng-cloak ng-init="ctrl.init()" id="jiraToMySql">
  <div id="config" style="display: block" class="form-group">
    <div class="panel panel-default">
      <div class="panel-heading">Import from Jira</div>
      <div class="panel-body">
        <p> Configuration to connect to your Jira server </p>
        <div class="form-group">
          <label for="jiraUrl">Base Url</label>
          <input type="text" class="form-control" id="jiraUrl" placeholder="http://" ng-model="jiraUrl" />
        </div>
        <div class="form-group">
          <label for="jiraUserName">User Name</label>
          <input type="text" class="form-control" id="jiraUserName" placeholder="mustermann" ng-model="jiraUserName" />
        </div>
        <div class="form-group">
          <label for="jiraPassword">Password</label>
          <input type="password" class="form-control" id="jiraPassword" placeholder="Password" ng-model="jiraPassword" />
        </div>
        <button type="button" class="btn btn-primary" ng-click="ctrl.connectToMysql()">Connect</button>
        <br/><br/>

        You need to select a project here!!
      </div>
    </div>
    <div class="panel panel-default">
      <div class="panel-heading">Export to MySql</div>
      <div class="panel-body">
        <p>Configuration to connect to your MySql</p>
        <div class="form-group">
          <label for="mysqlUrl">Base Url</label>
          <input type="text" class="form-control" id="mysqlUrl" placeholder="localhost" ng-model="mysqlUrl" />
        </div>
        <div class="form-group">
          <label for="mysqlPort">Port</label>
          <input type="text" class="form-control" id="mysqlPort" placeholder="3306" ng-model="mysqlPort" />
        </div>
        <div class="form-group">
          <label for="mysqlUserName">User Name</label>
          <input type="text" class="form-control" id="mysqlUserName" placeholder="mustermann" ng-model="mysqlUserName" />
        </div>
        <div class="form-group">
          <label for="mysqlPassword">Password</label>
          <input type="password" class="form-control" id="mysqlPassword" placeholder="Password" ng-model="mysqlPassword" />
        </div>
        <button type="button" class="btn btn-primary" ng-click="ctrl.connectToMysql()">Connect</button>
        <br/><br/>
        <div class="panel panel-default" ng-show="ctrl.databases !== null">
          <div class="panel-body">
            <div class="form-group">
              <label for="selectDb">Select a database</label>
              <select id="selectDb" ng-model="database">
                <option ng-repeat="option in ctrl.databases" value="{{option.Database}}">
                  {{option.Database}}
                </option>
              </select>
            </div>

            <div>
              <p>-- OR --</p>
            </div>

            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#createDB">Create a new database</button>

            <div class="modal fade" id="createDB" tabindex="-1" role="dialog" aria-labelledby="createDBLabel">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Create a new database</h4>
                  </div>
                  <div class="modal-body">
                    <div class="form-group">
                      <label for="dbName">Password</label>
                      <input id="dbName" type="text" class="form-control" placeholder="TestDB" ng-model="databaseName" />
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" ng-click="ctrl.createADatabase()" data-dismiss="modal">Create</button>
                  </div>
                </div>
              </div>
            </div>
            <br /><br />
            <button type="button" class="btn btn-primary" ng-click="ctrl.createMapping()" ng-show="database != null">Create necessary mappings</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>